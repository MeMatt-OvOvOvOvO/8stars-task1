{"ast":null,"code":"const io = require(\"sails.io.js\")(require(\"socket.io-client\"));\nimport socketClient from \"socket.io-client\";\nimport sails from \"sails.io.js\";\nimport { BehaviorSubject } from \"rxjs\";\nexport class BaseService {\n  constructor() {\n    this.mess = new BehaviorSubject('mess');\n    this.currMess = this.mess.asObservable();\n    const io = sails(socketClient);\n    io.sails.url = \"http://localhost:1337\";\n    io.sails.autoconnect = true;\n    this.socket = io.socket;\n  }\n  changeMess(messs) {\n    this.mess.next(messs);\n  }\n  get(url, body) {\n    return new Promise((ok, fail) => {\n      this.socket.get(url, body, (response, JWR) => {\n        if (JWR.statusCode >= 400) {\n          fail(JWR);\n        } else {\n          ok(response);\n        }\n      });\n    });\n  }\n}","map":{"version":3,"names":["io","require","socketClient","sails","BehaviorSubject","BaseService","constructor","mess","currMess","asObservable","url","autoconnect","socket","changeMess","messs","next","get","body","Promise","ok","fail","response","JWR","statusCode"],"sources":["C:\\Users\\admin\\Desktop\\8stars-task1\\frontend\\src\\app\\app.service.ts"],"sourcesContent":["const io = require(\"sails.io.js\")(require(\"socket.io-client\"));\nimport * as io from '../assets/js/sails.io.js';\nimport * as io from \"io\";\nimport socketClient from \"socket.io-client\";\nimport sails from \"sails.io.js\";\nimport { BehaviorSubject } from \"rxjs\";\nexport class BaseService {\n  socket;\n\n  private mess = new BehaviorSubject<string>('mess')\n  currMess = this.mess.asObservable()\n\n  constructor() {\n    const io = sails(socketClient);\n    io.sails.url = \"http://localhost:1337\";\n    io.sails.autoconnect = true;\n    this.socket = io.socket;\n  }\n\n  changeMess(messs : string){\n    this.mess.next(messs) \n  }\n\n  public get(url: string, body?: any): Promise<any> {\n    return new Promise((ok, fail) => {\n      this.socket.get(url, body, (response: any, JWR: any) => {\n        if (JWR.statusCode >= 400) {\n          fail(JWR);\n        } else {\n          ok(response);\n        }\n      });\n    });\n  }\n}\n\n"],"mappings":"AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,aAAa,CAAC,CAACA,OAAO,CAAC,kBAAkB,CAAC,CAAC;AAG9D,OAAOC,YAAY,MAAM,kBAAkB;AAC3C,OAAOC,KAAK,MAAM,aAAa;AAC/B,SAASC,eAAe,QAAQ,MAAM;AACtC,OAAM,MAAOC,WAAW;EAMtBC,YAAA;IAHQ,KAAAC,IAAI,GAAG,IAAIH,eAAe,CAAS,MAAM,CAAC;IAClD,KAAAI,QAAQ,GAAG,IAAI,CAACD,IAAI,CAACE,YAAY,EAAE;IAGjC,MAAMT,EAAE,GAAGG,KAAK,CAACD,YAAY,CAAC;IAC9BF,EAAE,CAACG,KAAK,CAACO,GAAG,GAAG,uBAAuB;IACtCV,EAAE,CAACG,KAAK,CAACQ,WAAW,GAAG,IAAI;IAC3B,IAAI,CAACC,MAAM,GAAGZ,EAAE,CAACY,MAAM;EACzB;EAEAC,UAAUA,CAACC,KAAc;IACvB,IAAI,CAACP,IAAI,CAACQ,IAAI,CAACD,KAAK,CAAC;EACvB;EAEOE,GAAGA,CAACN,GAAW,EAAEO,IAAU;IAChC,OAAO,IAAIC,OAAO,CAAC,CAACC,EAAE,EAAEC,IAAI,KAAI;MAC9B,IAAI,CAACR,MAAM,CAACI,GAAG,CAACN,GAAG,EAAEO,IAAI,EAAE,CAACI,QAAa,EAAEC,GAAQ,KAAI;QACrD,IAAIA,GAAG,CAACC,UAAU,IAAI,GAAG,EAAE;UACzBH,IAAI,CAACE,GAAG,CAAC;SACV,MAAM;UACLH,EAAE,CAACE,QAAQ,CAAC;;MAEhB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}