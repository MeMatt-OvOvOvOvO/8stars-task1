{"ast":null,"code":"//const io = require(\"sails.io.js\")(require(\"socket.io-client\"));\n//import * as io from '../assets/js/sails.io.js';\n//import * as io from \"io\";\nimport socketClient from \"socket.io-client\";\nimport sails from \"sails.io.js\";\nimport * as i0 from \"@angular/core\";\nclass BaseService {\n  constructor() {\n    const io = sails(socketClient);\n    io.sails.url = \"http://localhost:1337\";\n    io.sails.autoconnect = true;\n    this.socket = io.socket;\n  }\n  get(url, body) {\n    return new Promise((ok, fail) => {\n      this.socket.get(url, body, (response, JWR) => {\n        if (JWR.statusCode >= 400) {\n          fail(JWR);\n        } else {\n          ok(response);\n        }\n      });\n    });\n  }\n}\nBaseService.ɵfac = function BaseService_Factory(t) {\n  return new (t || BaseService)();\n};\nBaseService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: BaseService,\n  factory: BaseService.ɵfac\n});\nexport { BaseService };","map":{"version":3,"names":["socketClient","sails","BaseService","constructor","io","url","autoconnect","socket","get","body","Promise","ok","fail","response","JWR","statusCode","factory","ɵfac"],"sources":["C:\\Users\\admin\\Desktop\\8stars-task1\\frontend\\src\\app\\app.service.ts"],"sourcesContent":["//const io = require(\"sails.io.js\")(require(\"socket.io-client\"));\n//import * as io from '../assets/js/sails.io.js';\n//import * as io from \"io\";\nimport socketClient from \"socket.io-client\";\nimport sails from \"sails.io.js\";\nimport { BehaviorSubject } from \"rxjs\";\nimport { Injectable } from \"@angular/core\";\n\n@Injectable({\n  \n})\nexport class BaseService {\n  socket;\n\n\n  constructor() {\n    const io = sails(socketClient);\n    io.sails.url = \"http://localhost:1337\";\n    io.sails.autoconnect = true;\n    this.socket = io.socket;\n  }\n\n\n  public get(url: string, body?: any): Promise<any> {\n    return new Promise((ok, fail) => {\n      this.socket.get(url, body, (response: any, JWR: any) => {\n        if (JWR.statusCode >= 400) {\n          fail(JWR);\n        } else {\n          ok(response);\n        }\n      });\n    });\n  }\n}\n\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,YAAY,MAAM,kBAAkB;AAC3C,OAAOC,KAAK,MAAM,aAAa;;AAI/B,MAGaC,WAAW;EAItBC,YAAA;IACE,MAAMC,EAAE,GAAGH,KAAK,CAACD,YAAY,CAAC;IAC9BI,EAAE,CAACH,KAAK,CAACI,GAAG,GAAG,uBAAuB;IACtCD,EAAE,CAACH,KAAK,CAACK,WAAW,GAAG,IAAI;IAC3B,IAAI,CAACC,MAAM,GAAGH,EAAE,CAACG,MAAM;EACzB;EAGOC,GAAGA,CAACH,GAAW,EAAEI,IAAU;IAChC,OAAO,IAAIC,OAAO,CAAC,CAACC,EAAE,EAAEC,IAAI,KAAI;MAC9B,IAAI,CAACL,MAAM,CAACC,GAAG,CAACH,GAAG,EAAEI,IAAI,EAAE,CAACI,QAAa,EAAEC,GAAQ,KAAI;QACrD,IAAIA,GAAG,CAACC,UAAU,IAAI,GAAG,EAAE;UACzBH,IAAI,CAACE,GAAG,CAAC;SACV,MAAM;UACLH,EAAE,CAACE,QAAQ,CAAC;;MAEhB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;;AAtBWX,WAAW,C;mBAAXA,WAAW;AAAA;AAAXA,WAAW,C;SAAXA,WAAW;EAAAc,OAAA,EAAXd,WAAW,CAAAe;AAAA;SAAXf,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}